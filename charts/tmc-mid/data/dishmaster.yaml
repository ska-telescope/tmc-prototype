name: "dishmaster-{{.Release.Name}}"
function: receptor-simulation
domain: sensing
instances: ["01", "02", "03", "04"]
command: "/usr/local/bin/DishMasterDS "
server:
  name: "DishMasterDS"
  instances:
    - name: "01"
      classes:
        - name: "DishMaster"
          devices:
            - name: "mid_d0001/elt/master"
              properties:
                - name: "ReceptorNumber"
                  values:
                    - "0001"
                - name: "SkaLevel"
                  values:
                    - "1"
                - name: "LoggingTargetsDefault"
                  values:
                    - "tango::logger"
                - name: "LoggingLevelDefault"
                  values:
                    - "5"
                - name: "min_update_period"
                  values:
                    - "0.2"
                - name: "polled_attr"
                  values:
                    - "achievedPointing"
                    - "1000"
                    - "adminMode"
                    - "1000"
                    - "capturing"
                    - "1000"
                    - "configuredBand"
                    - "1000"
                    - "desiredPointing"
                    - "1000"
                    - "dishMode"
                    - "1000"
                    - "healthState"
                    - "1000"
                    - "pointingState"
                    - "1000"
                    - "state"
                    - "1000"
              attribute_properties:
                - attribute: "achievedPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
                - attribute: "desiredPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
    - name: "02"
      classes:
        - name: "DishMaster"
          devices:
            - name: "mid_d0002/elt/master"
              properties:
                - name: "ReceptorNumber"
                  values:
                    - "0002"
                - name: "SkaLevel"
                  values:
                    - "1"
                - name: "LoggingTargetsDefault"
                  values:
                    - "tango::logger"
                - name: "LoggingLevelDefault"
                  values:
                    - "5"
                - name: "min_update_period"
                  values:
                    - "0.2"
                - name: "polled_attr"
                  values:
                    - "achievedPointing"
                    - "1000"
                    - "adminMode"
                    - "1000"
                    - "capturing"
                    - "1000"
                    - "configuredBand"
                    - "1000"
                    - "desiredPointing"
                    - "1000"
                    - "dishMode"
                    - "1000"
                    - "healthState"
                    - "1000"
                    - "pointingState"
                    - "1000"
                    - "state"
                    - "1000"
              attribute_properties:
                - attribute: "achievedPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
                - attribute: "desiredPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
    - name: "03"
      classes:
        - name: "DishMaster"
          devices:
            - name: "mid_d0003/elt/master"
              properties:
                - name: "ReceptorNumber"
                  values:
                    - "0003"
                - name: "SkaLevel"
                  values:
                    - "1"
                - name: "LoggingTargetsDefault"
                  values:
                    - "tango::logger"
                - name: "LoggingLevelDefault"
                  values:
                    - "5"
                - name: "min_update_period"
                  values:
                    - "0.2"
                - name: "polled_attr"
                  values:
                    - "achievedPointing"
                    - "1000"
                    - "adminMode"
                    - "1000"
                    - "capturing"
                    - "1000"
                    - "configuredBand"
                    - "1000"
                    - "desiredPointing"
                    - "1000"
                    - "dishMode"
                    - "1000"
                    - "healthState"
                    - "1000"
                    - "pointingState"
                    - "1000"
                    - "state"
                    - "1000"
              attribute_properties:
                - attribute: "achievedPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
                - attribute: "desiredPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
    - name: "04"
      classes:
        - name: "DishMaster"
          devices:
            - name: "mid_d0004/elt/master"
              properties:
                - name: "ReceptorNumber"
                  values:
                    - "0004"
                - name: "SkaLevel"
                  values:
                    - "1"
                - name: "LoggingTargetsDefault"
                  values:
                    - "tango::logger"
                - name: "LoggingLevelDefault"
                  values:
                    - "5"
                - name: "min_update_period"
                  values:
                    - "0.2"
                - name: "polled_attr"
                  values:
                    - "achievedPointing"
                    - "1000"
                    - "adminMode"
                    - "1000"
                    - "capturing"
                    - "1000"
                    - "configuredBand"
                    - "1000"
                    - "desiredPointing"
                    - "1000"
                    - "dishMode"
                    - "1000"
                    - "healthState"
                    - "1000"
                    - "pointingState"
                    - "1000"
                    - "state"
                    - "1000"
              attribute_properties:
                - attribute: "achievedPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
                - attribute: "desiredPointing"
                  properties:
                    - name: "abs_change"
                      values:
                        - "0.001"
                        - "-0.001"
                    - name: "rel_change"
                      values:
                        - "1"
                        - "-1"
depends_on:
  - device: sys/database/2
image:
  registry: "{{.Values.global.tmcprototype.registry}}"
  image: "{{.Values.global.tmcprototype.image}}"
  tag: "{{.Values.global.tmcprototype.tag}}"
  pullPolicy: "{{.Values.global.tmcprototype.pullPolicy}}"
