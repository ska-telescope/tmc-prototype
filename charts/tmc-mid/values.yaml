display: ":0"
xauthority: "~/.Xauthority"
minikube: true

enabled: true

system: SW-infrastructure
subsystem: TMC-mid
telescope: SKA-mid

global:
  labels:
    app: tmc-mid
  annotations:
    app.gitlab.com/app: CI_PROJECT_PATH_SLUG
    app.gitlab.com/env: CI_ENVIRONMENT_SLUG
  tango_host: databaseds-tango-base-test:10000
  environment_variables: []
  dsconfig:
    image:
      registry: nexus.engageska-portugal.pt/ska-docker
      image: tango-dsconfig
      tag: 1.5.0
      pullPolicy: IfNotPresent
  itango:
    image:
      registry: nexus.engageska-portugal.pt/ska-docker
      image: tango-itango
      tag: 9.3.1
      pullPolicy: IfNotPresent
  tmcprototype:
    image:
      registry: nexus.engageska-portugal.pt/tango-example
      image: tmcprototype
      tag: 0.2.11
      pullPolicy: IfNotPresent

dsconfig:
  configuration_file: data/configuration.json

deviceServers:
  - name: dishmaster1
    subsystem: enabling
    function: receptor-simulation
    domain: sensing
    image: "{{ .Values.global.tmcprototype.image.registry }}/{{ .Values.global.tmcprototype.image.image }}:{{ .Values.global.tmcprototype.image.tag }}"
    imagePullPolicy: "{{ .Values.global.tmcprototype.image.pullPolicy }}"
    command:
      - sh
    args:
      - -c
      - "/usr/local/bin/DishMasterDS 01"
  
  - name: dishmaster2
    subsystem: enabling
    function: receptor-simulation
    domain: sensing
    image: "{{ .Values.global.tmcprototype.image.registry }}/{{ .Values.global.tmcprototype.image.image }}:{{ .Values.global.tmcprototype.image.tag }}"
    imagePullPolicy: "{{ .Values.global.tmcprototype.image.pullPolicy }}"
    command:
      - sh
    args:
      - -c
      - "/usr/local/bin/DishMasterDS 02"


nodeSelector: {}

affinity: {}

tolerations: []

resources:
  requests:
    cpu: 150m     # 100m = 0.1 CPU
    memory: 55Mi # 128Mi = 0.125 GB mem
  limits:
    cpu: 200m     # 200m = 0.2 CPU
    memory: 65Mi # 256Mi = 0.25 GB mem